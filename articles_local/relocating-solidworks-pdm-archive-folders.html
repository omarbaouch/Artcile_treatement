<p>As your SOLIDWORKS PDM vault is used, and more files are added, and new versions of those files are created, the archives where all of those files are kept will grow significantly.  You may need to move these SOLIDWORKS PDM archive folders around as the vault gets larger; for instance relocating the entire archive to a different drive with more space, or splitting it up across multiple drives.  This can be done very easily directly through the interface of the “Archive Server Configuration” utility which runs on the computer where the archives are stored.</p>
<p>You will be able to access the Archive Server Configuration tool, from <strong>Windows</strong> &gt; <strong>Start</strong> &gt; <strong>All Programs</strong> &gt; <strong>SOLIDWORKS PDM</strong>, or by typing ‘<em>Archive Server Configuration</em>‘ in Windows search.</p>
<p>If the utility does not launch when you do this though, that means it’s actually already running, so go to the Task bar icons on the bottom right of the screen and find the <em>SOLIDWORKS PDM Archive Server</em> icon, right click and select <em>Open.</em></p>
<div class="wp-caption aligncenter" id="attachment_25497" style="width: 515px"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2016/12/Task-Area.png"><img alt="Windows Shortcut Bar" aria-describedby="caption-attachment-25497" height="377" src="/assets/images/Task-Area.png" title="" width="505"/><p class="wp-caption-text" id="caption-attachment-25497"><noscript><img alt="Windows Shortcut Bar" height="377" sizes="(max-width: 505px) 100vw, 505px" src="/assets/images/Task-Area.png" title="" width="505"/></noscript></p></a> Windows Shortcut Bar</div>
<p>In the utility, either double click the “Archives” folder in the main pane of the interface, or expand “This Computer” and single click to select the “Archives” folder in the tree in the left pane of the screen.  This will show all the archives hosted on this server, there may be several if you have sandbox or training vaults set up.</p>
<div class="wp-caption aligncenter" id="attachment_25498" style="width: 696px"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2016/12/Archive-Server-Configuration.png"><img alt="SOLIDWORKS PDM Archive Server" aria-describedby="caption-attachment-25498" height="493" src="/assets/images/Archive-Server-Configuration.png" title="" width="686"/><p class="wp-caption-text" id="caption-attachment-25498"><noscript><img alt="SOLIDWORKS PDM Archive Server" height="493" sizes="(max-width: 686px) 100vw, 686px" src="/assets/images/Archive-Server-Configuration.png" title="" width="686"/></noscript></p></a> SOLIDWORKS PDM Archive Server</div>
<p>Right click on the vault that you need to move and select “Relocate”.</p>
<div class="wp-caption aligncenter" id="attachment_25501" style="width: 696px"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2016/12/Relocate-1.png"><img alt="Relocate PDM Archive" aria-describedby="caption-attachment-25501" height="493" src="/assets/images/Relocate-1.png" title="" width="686"/><p class="wp-caption-text" id="caption-attachment-25501"><noscript><img alt="Relocate PDM Archive" height="493" sizes="(max-width: 686px) 100vw, 686px" src="/assets/images/Relocate-1.png" title="" width="686"/></noscript></p></a> Relocate PDM Archive</div>
<p>In the “File vault relocation” dialog box, you will see where archive folders are currently located.  In this case, currently, 100% of the archive folders are located on the C: drive.</p>
<div class="wp-caption aligncenter" id="attachment_25503" style="width: 696px"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2016/12/Relocate-Dialog.png"><img alt="Archive Location" aria-describedby="caption-attachment-25503" height="493" src="/assets/images/Relocate-Dialog.png" title="" width="686"/><p class="wp-caption-text" id="caption-attachment-25503"><noscript><img alt="Archive Location" height="493" sizes="(max-width: 686px) 100vw, 686px" src="/assets/images/Relocate-Dialog.png" title="" width="686"/></noscript></p></a> Archive Location</div>
<p>There are 16 different archive folders in all SOLIDWORKS PDM vaults, named 0 – 9, and A – F.  This is where the actual vaulted copies of all the files are located.</p>
<div class="wp-caption aligncenter" id="attachment_25502" style="width: 882px"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2016/12/Archive-Folder.png"><img alt="Physical Archive Folders" aria-describedby="caption-attachment-25502" height="505" src="/assets/images/Archive-Folder.png" title="" width="872"/><p class="wp-caption-text" id="caption-attachment-25502"><noscript><img alt="Physical Archive Folders" height="505" sizes="(max-width: 872px) 100vw, 872px" src="/assets/images/Archive-Folder.png" title="" width="872"/></noscript></p></a> Physical Archive Folders</div>
<h3>Considerations when using the Archive Server Configuration tool to relocate archives:</h3>
<p>During the relocate process there should be NO USERS ACCESSING THE VAULT.  Before initiating a move, the administrator should Block Log-ins to the vault to prevent user’s from accessing it during the move.</p>
<p>Consider performing the move in increments, especially if the archive is very large. The 16 archive folders are each moved as a unit, so the move can be done in increments of as little as 1/16 or roughly 6.3% at a time.</p>
<p>You can span the archive across as many drives as you require.</p>
<p>If the vault is very very large (for instance several hundred gigabytes of data), then you may want to consider performing a manual move and redirecting of the Archive Folder registry values instead of using the Relocate functionality in the Archive Server Configuration tool.  You can contact your SOLIDWORKS Value Added Re-seller for further directions on how this can be done.</p>
<p>If you are encountering issues with the backups of the archive taking too long to perform because the vault is too large, relocating the archive will not help as it does not reduce the overall size of the archive.  In that situation, you should consider also <a href="https://www.javelin-tech.com/blog/2016/08/solidworks-pdm-archive-compression/">compressing the archive</a>.</p>
<h3>Relocate Process:</h3>
<p>If you are moving the entire vault from one location to another here are the steps:</p>
<p><strong>Step 1:</strong>  In the File vault relocation dialog, click “Add” to inset a new row under Archive Locations.  Click the “…” button and browse to the new folder location.  This should be a folder on a local hard drive, NOT a network share, mapped drive or a USB external hard drive (using anything but a local drive will degrade file access performance for users).</p>
<div class="wp-caption aligncenter" id="attachment_25504" style="width: 696px"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2016/12/Add.png"><img alt="Add new Archive Location" aria-describedby="caption-attachment-25504" height="493" src="/assets/images/Add.png" title="" width="686"/><p class="wp-caption-text" id="caption-attachment-25504"><noscript><img alt="Add new Archive Location" height="493" sizes="(max-width: 686px) 100vw, 686px" src="/assets/images/Add.png" title="" width="686"/></noscript></p></a> Add new Archive Location</div>
<p><strong>Step 2:</strong>  Adjust the “Size” slider as desired.  If the vault isn’t too large, and you have sufficient time before the users will require full access again, you can move 100% of the vault to the new location, otherwise you may wish to do so incrementally.  NOTE:  You will need to manually adjust the sliders on both locations, for instance if you set the new location Size to 100% the “Total Size” value will show as 200%.  To correct this you must manually set the initial location’s size slider to 100%.  If you are moving incrementally, you will need to make sure the Total Size adds up to 100% (watch for the indicator to turn green).</p>
<div class="wp-caption aligncenter" id="attachment_25505" style="width: 696px"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2016/12/Size-Slider.png"><img alt="Adjust Archive Size" aria-describedby="caption-attachment-25505" height="493" src="/assets/images/Size-Slider.png" title="" width="686"/><p class="wp-caption-text" id="caption-attachment-25505"><noscript><img alt="Adjust Archive Size" height="493" sizes="(max-width: 686px) 100vw, 686px" src="/assets/images/Size-Slider.png" title="" width="686"/></noscript></p></a> Adjust Archive Size</div>
<p><strong>Step 3:</strong>  Click OK.  A warning will show reminding you to ensure that the users are not working in the vault (they can continue to work in Offline Mode), once you click OK the archives will begin to be moved.  This process must be allowed to complete and should not be interrupted once it begins.</p>
<div class="wp-caption aligncenter" id="attachment_25506" style="width: 696px"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2016/12/Ok.png"><img alt="Relocating SOLIDWORKS PDM Archive Folders" aria-describedby="caption-attachment-25506" height="493" src="/assets/images/Ok.png" title="" width="686"/><p class="wp-caption-text" id="caption-attachment-25506"><noscript><img alt="Relocating SOLIDWORKS PDM Archive Folders" height="493" sizes="(max-width: 686px) 100vw, 686px" src="/assets/images/Ok.png" title="" width="686"/></noscript></p></a> Confirming Archive Move</div>
