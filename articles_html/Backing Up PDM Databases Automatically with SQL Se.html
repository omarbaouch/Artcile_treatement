<p>Proper backups are an essential part of data management.  For SOLIDWORKS PDM, there are two key elements that must be backed up to ensure that data is safe, the <strong>vault archives</strong>, and the <strong>vault database</strong>.</p>
<p>The vault archives are copies of the actual files stored in the vault.  They are organized in folders managed by the Archive Server.</p>
<p>The vault database contains all the information about those files, the history, the variable values as well as the Vault settings.</p>
<p>With SOLIDWORKS PDM Professional, the database is typically hosted on Microsoft SQL Standard or Enterprise, which include the <strong><em>SQL Server Agent</em> </strong>service.  This service can be used to automatically create a .bak file backup of the PDM database based on a schedule set up in a maintenance plan.</p>
<p>Please Note:  SOLIDWORKS PDM Standard vaults must be hosted on Microsoft SQL Express, which does not include the SQL Server Agent.  PDM Standard databases must be backed up using a different method.</p>
<p>The backups for the SQL database and of the Archive Folders should be as synchronous as possible so the schedule in the maintenance plan should be set up to closely align with the Archive backups.  These backups should be performed <em><strong>daily</strong></em>.  The sql maintenance plan should include two tasks, the backup file creation, and the backup file cleanup which will delete older backup files after a certain number of days.</p>
<p>As with the Archive Folder backups, it is highly recommended that the SQL database backups be copied from the server to an external backup drive each night.</p>
<h2>Creating an SQL Maintenance Plan for Database Backups</h2>
<p><strong>Step 1</strong>:  Ensure that the <em>SQL Server Agent</em> service is running.  Launch the <em>SQL Server Configuration Manager</em> program and verify that the<em> SQL Server Agent</em> is currently running. If it is not, right click the Agent and click <em><strong>Start</strong></em>.</p>
<div id="attachment_13997" style="width: 1032px" class="wp-caption aligncenter"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2015/01/SQL-Server-Agent.png"><img decoding="async" aria-describedby="caption-attachment-13997" class="wp-image-13997 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/01/SQL-Server-Agent.png" alt="Start SQL Server Agent" width="1022" height="467" title=""><p id="caption-attachment-13997" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-13997 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/01/SQL-Server-Agent.png" alt="Start SQL Server Agent" width="1022" height="467" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2015/01/SQL-Server-Agent.png 1022w, https://www.javelin-tech.com/blog/wp-content/uploads/2015/01/SQL-Server-Agent-300x137.png 300w, https://www.javelin-tech.com/blog/wp-content/uploads/2015/01/SQL-Server-Agent-640x292.png 640w" sizes="(max-width: 1022px) 100vw, 1022px" /></noscript></a> Step 1 &#8211; Start SQL Server Agent</p></div>
<p><strong>Step 2</strong>:  Launch the Microsoft SQL Server Management Studio and log into the instance hosting the vault database(s).</p>
<p><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/1-Login.jpg"><img decoding="async" class="aligncenter size-full wp-image-46905 lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/1-Login.jpg" alt="" width="1301" height="744" title=""><noscript><img decoding="async" class="aligncenter size-full wp-image-46905 lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/1-Login.jpg" alt="" width="1301" height="744" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/1-Login.jpg 1301w, https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/1-Login-600x343.jpg 600w, https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/1-Login-1220x698.jpg 1220w, https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/1-Login-768x439.jpg 768w" sizes="(max-width: 1301px) 100vw, 1301px" /></noscript></a></p>
<p><strong>Step 3:</strong>  Expand the <em>Management</em> folder in the Object Explorer then right click on the <em>Maintenance Plans</em> folder and select the <em><strong>Maintenance Plan Wizard</strong></em> command.</p>
<p><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/Maintanence-Plan.png"><img decoding="async" class="aligncenter size-full wp-image-46906 lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/Maintanence-Plan.png" alt="" width="1291" height="734" title=""><noscript><img decoding="async" class="aligncenter size-full wp-image-46906 lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/Maintanence-Plan.png" alt="" width="1291" height="734" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/Maintanence-Plan.png 1291w, https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/Maintanence-Plan-600x341.png 600w, https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/Maintanence-Plan-1220x694.png 1220w, https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/Maintanence-Plan-768x437.png 768w" sizes="(max-width: 1291px) 100vw, 1291px" /></noscript></a></p>
<p><strong>Step 4</strong>:  When the Wizard launches the starting page explains further what functions can be automated using the Maintenance Plan.  We will focus here on performing database backups.  Click <strong>Next</strong> to proceed.</p>
<p><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/3-Wizard.jpg"><img decoding="async" class="aligncenter size-full wp-image-46907 lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/3-Wizard.jpg" alt="" width="575" height="463" title=""><noscript><img decoding="async" class="aligncenter size-full wp-image-46907 lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/3-Wizard.jpg" alt="" width="575" height="463" title=""></noscript></a></p>
<p><strong>Step 5</strong>:  On the <em>Plan Properties</em> scree, set a name for the maintenance plan, and ensue that the plan is set to <em>Single schedule for the entire plan or no schedule</em>. Click <em><strong>Change</strong> </em>to set the schedule for the plan.</p>
<p><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/4-Plan-Name.jpg"><img decoding="async" class="aligncenter size-full wp-image-46908 lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/4-Plan-Name.jpg" alt="" width="591" height="470" title=""><noscript><img decoding="async" class="aligncenter size-full wp-image-46908 lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/4-Plan-Name.jpg" alt="" width="591" height="470" title=""></noscript></a><strong>Step 6:</strong>  On the <em>Job Schedule</em> screen, we highly recommend that the backups be scheduled to run <em>Daily</em>.  Make sure that you give the Maintenance Plan enough time to complete the backup in advance of any scheduled hard disk backup you may have already set up.  Click <strong>OK</strong> to set the schedule.  Back on the <em>Plan Properties</em> screen click <em><strong>Next</strong></em> to continue.<a href="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/5-Schedule.jpg"><img decoding="async" class="aligncenter size-full wp-image-46909 lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/5-Schedule.jpg" alt="" width="681" height="600" title=""><noscript><img decoding="async" class="aligncenter size-full wp-image-46909 lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/5-Schedule.jpg" alt="" width="681" height="600" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/5-Schedule.jpg 681w, https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/5-Schedule-600x529.jpg 600w" sizes="(max-width: 681px) 100vw, 681px" /></noscript></a></p>
<p><strong>Step 7:</strong>  On the <em>Select Maintenance Tasks</em> screen, check the box to select the<em><strong> Back Up Database (Full)</strong></em> task, and the <em><strong>Maintenance Cleanup Task</strong></em>. Then click <em><strong>Next</strong></em> to continue.</p>
<p><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/6-Tasks.jpg"><img decoding="async" class="aligncenter size-full wp-image-46911 lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/6-Tasks.jpg" alt="" width="577" height="471" title=""><noscript><img decoding="async" class="aligncenter size-full wp-image-46911 lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/6-Tasks.jpg" alt="" width="577" height="471" title=""></noscript></a></p>
<p><strong>Step 8:</strong>  On the <em>Task Order</em> screen the default order should be maintained. Click <em><strong>Next</strong></em> to continue.</p>
<p><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/7-Task-Order.jpg"><img decoding="async" class="aligncenter size-full wp-image-46910 lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/7-Task-Order.jpg" alt="" width="581" height="462" title=""><noscript><img decoding="async" class="aligncenter size-full wp-image-46910 lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/7-Task-Order.jpg" alt="" width="581" height="462" title=""></noscript></a></p>
<p><strong>Step 9:</strong>  On the <em>Define Task</em> screen for the Backup task, first, select the <em>Databases</em> to be backed up.  Ensure that the SOLIDWORKS PDM Vault database(s) and the <em><strong>ConisioMasterDb</strong></em> are checked.</p>
<p><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/8a-Select-Databases.jpg"><img decoding="async" class="aligncenter size-full wp-image-46912 lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/8a-Select-Databases.jpg" alt="" width="610" height="627" title=""><noscript><img decoding="async" class="aligncenter size-full wp-image-46912 lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/8a-Select-Databases.jpg" alt="" width="610" height="627" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/8a-Select-Databases.jpg 610w, https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/8a-Select-Databases-584x600.jpg 584w" sizes="(max-width: 610px) 100vw, 610px" /></noscript></a></p>
<p><strong>Step 10:</strong>  Switch to the <strong><em>Destination</em> </strong>tab and set the folder path where the backup files should be created.  Ensure that the backup extension is set to <em><strong>bak </strong></em>(<span style="text-decoration: underline;">do not</span> include the &#8220;.&#8221; separator) and that the task is set to<em><strong> Create a backup file for each database</strong></em>.  Click <em><strong>Next</strong> </em>to continue.</p>
<p><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/8b-Destination.jpg"><img decoding="async" class="aligncenter size-full wp-image-46913 lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/8b-Destination.jpg" alt="" width="728" height="621" title=""><noscript><img decoding="async" class="aligncenter size-full wp-image-46913 lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/8b-Destination.jpg" alt="" width="728" height="621" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/8b-Destination.jpg 728w, https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/8b-Destination-600x512.jpg 600w" sizes="(max-width: 728px) 100vw, 728px" /></noscript></a></p>
<p><strong>Step 11</strong>:  On the <em>Define Task</em> screen for the Maintenance Cleanup Task, set the task to delete <em><strong>Backup files</strong></em>, and specify the folder path where the backup files are being included. Set the file extension to <em><strong>bak</strong> </em>(<span style="text-decoration: underline;">do not</span> include the &#8220;.&#8221; separator).  Set the number of backups to keep, typically between 7 to 14 days of backups, depending on your company&#8217;s protocols. Click <em><strong>Next</strong> </em>to continue.</p>
<p><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/9-Cleanup.jpg"><img decoding="async" class="aligncenter size-full wp-image-46914 lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/9-Cleanup.jpg" alt="" width="585" height="705" title=""><noscript><img decoding="async" class="aligncenter size-full wp-image-46914 lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/9-Cleanup.jpg" alt="" width="585" height="705" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/9-Cleanup.jpg 585w, https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/9-Cleanup-498x600.jpg 498w" sizes="(max-width: 585px) 100vw, 585px" /></noscript></a></p>
<p><strong>Step 12</strong>:  On the Report screen, you have the option to set a custom path for the task report file. Click <em><strong>Next</strong></em> to continue.</p>
<p><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/10-Report.jpg"><img decoding="async" class="aligncenter size-full wp-image-46915 lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/10-Report.jpg" alt="" width="575" height="463" title=""><noscript><img decoding="async" class="aligncenter size-full wp-image-46915 lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/10-Report.jpg" alt="" width="575" height="463" title=""></noscript></a><strong style="text-align: center;">Step 13</strong><span style="text-align: center;">:  Finally, review settings and click </span><em style="text-align: center;"><strong>Finish</strong> </em><span style="text-align: center;">to complete the Maintenance Plan Wizard.</span></p>
<p><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/Finish.jpg"><img decoding="async" class="aligncenter size-full wp-image-46916 lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/Finish.jpg" alt="" width="725" height="542" title=""><noscript><img decoding="async" class="aligncenter size-full wp-image-46916 lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/Finish.jpg" alt="" width="725" height="542" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/Finish.jpg 725w, https://www.javelin-tech.com/blog/wp-content/uploads/2015/06/Finish-600x449.jpg 600w" sizes="(max-width: 725px) 100vw, 725px" /></noscript></a></p>
