<p>To ensure the safety of your <a href="https://www.javelin-tech.com/3d/technology/solidworks-pdm/" target="_blank" rel="noopener">SOLIDWORKS PDM</a> data, it&#8217;s essential to have a maintenance plan in place to perform regular (preferably nightly) backups of the vault database and the ConisioMasterDB database. <a href="https://www.javelin-tech.com/blog/2015/06/setting-microsoft-sql-maintenance-plan-video/"> A Maintenance Plan that will automatically backup the databases</a> can be set up for SOLIDWORKS PDM Professional using the SQL Server Agent included in Microsoft SQL Standard.</p>
<blockquote><p><strong>Note</strong>: <a href="https://www.javelin-tech.com/3d/technology/solidworks-pdm-standard/" target="_blank" rel="noopener">SOLIDWORKS PDM Standard</a> does NOT  include the SQL Server Agent so this method does not work for PDM Standard vaults.</p></blockquote>
<p>However over time those backups will take up a great deal of hard drive space if they are not cleaned up and removed.  This process can also be automated by the SQL Server Agent.</p>
<h3>Steps to removing Old SQL Database Backups</h3>
<p><strong>Step 1:</strong>  Ensure that the <em>SQL Server Agent</em> service is running.  Launch the <em>SQL Server Configuration Manager</em> program and check that the<em> SQL Server Agent</em> is currently running, if it isn’t right click the Agent and click <em><strong>Start</strong></em>.</p>
<div id="attachment_29661" style="width: 790px" class="wp-caption aligncenter"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-1.png"><img decoding="async" aria-describedby="caption-attachment-29661" class="wp-image-29661 size-large lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-1-780x356.png" alt="SQL Server Configuration Manager" width="780" height="356" title=""><p id="caption-attachment-29661" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-29661 size-large lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-1-780x356.png" alt="SQL Server Configuration Manager" width="780" height="356" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-1-780x356.png 780w, https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-1-300x137.png 300w, https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-1-768x351.png 768w, https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-1.png 1022w" sizes="(max-width: 780px) 100vw, 780px" /></noscript></a> SQL Server Configuration Manager</p></div>
<p><strong>Step 2</strong>:  Log into the Microsoft SQL Server Management Studio and expand the <em>Management</em> folder in the Object Explorer then right click on the <em>Maintenance Plans</em> folder and select the <em><strong>Maintenance Plan Wizard </strong></em>command.</p>
<div id="attachment_29662" style="width: 790px" class="wp-caption aligncenter"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-2.png"><img decoding="async" aria-describedby="caption-attachment-29662" class="wp-image-29662 size-large lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-2-780x462.png" alt="Maintenance Plan Wizard command" width="780" height="462" title=""><p id="caption-attachment-29662" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-29662 size-large lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-2-780x462.png" alt="Maintenance Plan Wizard command" width="780" height="462" title=""></noscript></a> Maintenance Plan Wizard command</p></div>
<p><strong>Step 3</strong>:  When the Wizard launches the starting page explains further what functions can be automated using the Maintenance Plan.  Click <strong>Next</strong>.</p>
<div id="attachment_29663" style="width: 790px" class="wp-caption aligncenter"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-3.png"><img decoding="async" aria-describedby="caption-attachment-29663" class="wp-image-29663 size-large lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-3-780x462.png" alt="Wizard starting page" width="780" height="462" title=""><p id="caption-attachment-29663" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-29663 size-large lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-3-780x462.png" alt="Wizard starting page" width="780" height="462" title=""></noscript></a> Wizard starting page</p></div>
<p><strong>Step 4</strong>:  Name the maintenance plan, the click <em><strong>Change</strong> </em>to create a schedule for the plan to run on.</p>
<div id="attachment_29664" style="width: 790px" class="wp-caption aligncenter"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-4.png"><img decoding="async" aria-describedby="caption-attachment-29664" class="wp-image-29664 size-large lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-4-780x462.png" alt="Removing Old SQL Database Backups" width="780" height="462" title=""><p id="caption-attachment-29664" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-29664 size-large lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-4-780x462.png" alt="Removing Old SQL Database Backups" width="780" height="462" title=""></noscript></a> Name the maintenance plan</p></div>
<p><strong>Step 5:</strong>  You can run the plan <em>Daily</em>, <em>Weekly</em> or <em>Monthly</em> at whichever time will work for you.  If you already have a Maintenance Plan in place to perform the backups, you may want to schedule the Cleanup to take place on the same schedule.  Click <strong>OK</strong> to set the schedule, then click <em><strong>Next</strong></em>.</p>
<div id="attachment_29665" style="width: 790px" class="wp-caption aligncenter"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-5.png"><img decoding="async" aria-describedby="caption-attachment-29665" class="wp-image-29665 size-large lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-5-780x462.png" alt="Run the plan Daily, Weekly or Monthly" width="780" height="462" title=""><p id="caption-attachment-29665" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-29665 size-large lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-5-780x462.png" alt="Run the plan Daily, Weekly or Monthly" width="780" height="462" title=""></noscript></a> Run the plan Daily, Weekly or Monthly</p></div>
<p><strong>Step 6:</strong>  Select the<em><strong> Maintenance Cleanup Task</strong></em> option and click <em><strong>Next</strong></em>.</p>
<div id="attachment_29666" style="width: 790px" class="wp-caption aligncenter"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-6.png"><img decoding="async" aria-describedby="caption-attachment-29666" class="wp-image-29666 size-large lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-6-780x462.png" alt="Maintenance Cleanup Task" width="780" height="462" title=""><p id="caption-attachment-29666" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-29666 size-large lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-6-780x462.png" alt="Maintenance Cleanup Task" width="780" height="462" title=""></noscript></a> Maintenance Cleanup Task</p></div>
<p><strong>Step 7:</strong>  On the Task Order screen ensure that the Maintenance Cleanup Task is listed, otherwise go back a step and select it again, then click <em><strong>Next</strong></em>.</p>
<div id="attachment_29668" style="width: 790px" class="wp-caption aligncenter"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-7.png"><img decoding="async" aria-describedby="caption-attachment-29668" class="wp-image-29668 size-large lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-7-780x462.png" alt="Maintenance Cleanup Task Enabled" width="780" height="462" title=""><p id="caption-attachment-29668" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-29668 size-large lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-7-780x462.png" alt="Maintenance Cleanup Task Enabled" width="780" height="462" title=""></noscript></a> Maintenance Cleanup Task Enabled</p></div>
<p>&nbsp;</p>
<p><strong>Step 8:</strong>  Define the options for the Cleanup Task. Click &#8220;&#8230;&#8221; to specify the folder where the SQL Database backup files are being saved.  Specify the Age of the files which should be removed by the task.  If backups are being done daily for instance, setting the Cleanup Task to remove any files over 14 days old will keep only 14 .bak files from each database being backed up.  Once the options are set, click <em><strong>Next</strong></em>.</p>
<div id="attachment_29667" style="width: 790px" class="wp-caption aligncenter"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-8.png"><img decoding="async" aria-describedby="caption-attachment-29667" class="wp-image-29667 size-large lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-8-780x462.png" alt="Define the options for the Cleanup Task" width="780" height="462" title=""><p id="caption-attachment-29667" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-29667 size-large lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-8-780x462.png" alt="Define the options for the Cleanup Task" width="780" height="462" title=""></noscript></a> Define the options for the Cleanup Task</p></div>
<p><strong>Step 9</strong>:  If you wish you can set up a report text file, then click <em><strong>Next</strong></em>.</p>
<div id="attachment_29669" style="width: 790px" class="wp-caption aligncenter"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-9.png"><img decoding="async" aria-describedby="caption-attachment-29669" class="wp-image-29669 size-large lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-9-780x462.png" alt="Set up a report text file" width="780" height="462" title=""><p id="caption-attachment-29669" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-29669 size-large lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-9-780x462.png" alt="Set up a report text file" width="780" height="462" title=""></noscript></a> Set up a report text file</p></div>
<p><strong>Step 10</strong>:  Finally, review settings and click <em><strong>Finish</strong> </em>to complete the Maintenance Plan Wizard.</p>
<div id="attachment_29670" style="width: 790px" class="wp-caption aligncenter"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-10.png"><img decoding="async" aria-describedby="caption-attachment-29670" class="wp-image-29670 size-large lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-10-780x462.png" alt="Complete the Maintenance Plan Wizard" width="780" height="462" title=""><p id="caption-attachment-29670" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-29670 size-large lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2017/09/Step-10-780x462.png" alt="Complete the Maintenance Plan Wizard" width="780" height="462" title=""></noscript></a> Complete the Maintenance Plan Wizard</p></div>
