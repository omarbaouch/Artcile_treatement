<p>Rarely, it may not be possible to delete <a href="https://www.javelin-tech.com/3d/technology/solidworks-pdm/">SOLIDWORKS PDM</a> Local Vault by the standard method of right-clicking on it and selecting Delete File Vault View.</p>
<div id="attachment_70435" style="width: 377px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-70435" class="wp-image-70435 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/Delete-View-Context-Menu.jpg" alt="Delete SOLIDWORKS PDM Local Vault" width="367" height="146" title=""><p id="caption-attachment-70435" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-70435 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/Delete-View-Context-Menu.jpg" alt="Delete SOLIDWORKS PDM Local Vault" width="367" height="146" title=""></noscript> Normal Method of Deleting Vault View</p></div>
<p>Typically, you will encounter an error that the vault is created by a different Windows login.</p>
<div id="attachment_70434" style="width: 408px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-70434" class="wp-image-70434 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/Delete-View-Error.jpg" alt="Error Message" width="398" height="172" title=""><p id="caption-attachment-70434" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-70434 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/Delete-View-Error.jpg" alt="Error Message" width="398" height="172" title=""></noscript> Delete Vault Error Message</p></div>
<p>If the other login or an administrator account is available, logging into one of these accounts may resolve the issue. If not, it is possible to modify the desktop.ini file that stores the creator of the vault view.</p>
<p>&nbsp;</p>
<blockquote><p><strong>Caution should be taken to ensure all files are checked in first, if possible. After the below processes are completed, files in the Local Vault View will be deleted.</strong></p></blockquote>
<h2>Manual Deletion SOLIDWORKS PDM Process</h2>
<p>The Manual delete SOLIDWORKS PDM Local Vault process involves modifying the Windows Registry,</p>
<blockquote><p><strong>If you are not familiar with working within the Registry, you should not attempt this manual deletion process. Irreparable damage to the operating system or installed software can occur, if some areas are edited or deleted. </strong></p></blockquote>
<p>Because of this, I have purposely omitted the steps, to access the areas mentioned in this article.</p>
<p>The first step is to delete the following keys depending on what &#8220;Attach Type&#8221; the vault was as. Typically this depends on level of Administrator rights a user has to the machine when setting up the Vault View. However if you are unsure of the Vault Setup history and typically an Administrator runs the View Setup I would go through both the User and Admin&#8217;s registry on that machine to ensure these locations are cleaned up.</p>
<ul>
<li>Only for me
<ul>
<li>&#8220;HKEY_CURRENT_USER\Software\SolidWorks\Applications\PDMWorks Enterprise\Vaults\[VAULTNAME]&#8221;</li>
<li>&#8220;HKEY_CURRENT_USER\Software\SolidWorks\Applications\PDMWorks Enterprise\ConisioAdmin\Servers\[COMPUTERNAME]\FileVaults\[VAULTNAME]&#8221;</li>
</ul>
</li>
<li>For all users on this computer
<ul>
<li>&#8220;HKEY_LOCAL_MACHINE\SOFTWARE\SolidWorks\Applications\PDMWorks Enterprise\Databases\[VAULTNAME]&#8221;</li>
<li>&#8220;HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\SolidWorks\Applications\PDMWorks Enterprise\Databases\[VAULTNAME]&#8221;</li>
</ul>
</li>
</ul>
<p>Note &#8211; [Vault Name] refers to the name of the Vault that is to be deleted. In my example, the Vault is called &#8220;Javelin Vault&#8221;.</p>
<p>&nbsp;</p>
<div id="attachment_70437" style="width: 343px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-70437" class="wp-image-70437 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/Registry-Delete.jpg" alt="Deleting Reg Key" width="333" height="320" title=""><p id="caption-attachment-70437" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-70437 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/Registry-Delete.jpg" alt="Deleting Reg Key" width="333" height="320" title=""></noscript> Deleting Reg Key</p></div>
<p>After deleting these keys, close all Windows Explorer Windows and start a Windows Command Prompt. In the Command prompt enter &#8220;RD &#8220;c:\path_to_vault_view&#8221; /s&#8221; hit enter and then confirm with &#8220;Y&#8221; then enter.</p>
<div id="attachment_70438" style="width: 517px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-70438" class="wp-image-70438 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/RD-Vault-View.jpg" alt="Remove Directory through Command Prompt" width="507" height="268" title=""><p id="caption-attachment-70438" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-70438 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/RD-Vault-View.jpg" alt="Remove Directory through Command Prompt" width="507" height="268" title=""></noscript> Remove Directory through Command Prompt</p></div>
<p>Alternatively, in Windows Command Prompt, navigate to the Local View: CD &#8220;c:\path_to_vault_view&#8221;</p>
<div id="attachment_70442" style="width: 517px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-70442" class="wp-image-70442 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/CD-Vaut-View-2.jpg" alt="Navigating to Local View" width="507" height="268" title=""><p id="caption-attachment-70442" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-70442 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/CD-Vaut-View-2.jpg" alt="Navigating to Local View" width="507" height="268" title=""></noscript> Navigating to Local View</p></div>
<p>and change the attributes of desktop.ini using:  &#8220;attrib –s –h –r desktop.ini&#8221;, then type &#8220;Del desktop.ini&#8221; and hit enter.</p>
<div id="attachment_70441" style="width: 517px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-70441" class="wp-image-70441 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/del-desktop-ini.jpg" alt="Changing Attribute for Desktop.ini" width="507" height="268" title=""><p id="caption-attachment-70441" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-70441 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/del-desktop-ini.jpg" alt="Changing Attribute for Desktop.ini" width="507" height="268" title=""></noscript> Changing Attribute for Desktop.ini</p></div>
<p>Now when you navigate to the vault view, you will now see that the vault folder now appears as a normal Explorer Folder (that you can now delete). In some cases, you may need to restart Windows Explorer, in the Windows Task Manager, in order to delete the Local View.</p>
<div id="attachment_50795" style="width: 444px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-50795" class="wp-image-50795 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/06-01-2021-03-57-05.png" alt="" width="434" height="546" title=""><p id="caption-attachment-50795" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-50795 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/06-01-2021-03-57-05.png" alt="" width="434" height="546" title=""></noscript> Restarting Windows Explorer In Windows TasK Manager</p></div>
<h2>Editing Vault Creator to gain ownership of the &#8220;Desktop.ini&#8221; file</h2>
<p>If the above didn&#8217;t work, we can edit the &#8220;desktop.ini&#8221; file to give you ownership of the vault view. Inside every vault is a Desktop.ini file, a system configuration file that is used to create the unique folder interface inside of PDM. It stores information about the vault view, including the Windows user that created it.</p>
<blockquote><p><strong>Improperly editing these files can damage your local vault view, please read carefully before making any changes.</strong></p></blockquote>
<p>This is a hidden file that is not typically visible through File Explorer/Vault View, even with hidden items visible. This can be accessed through the command prompt by entering the full folder path for the root of the vault followed by desktop.ini or uninstalling PDM and then viewing the folder.</p>
<div id="attachment_70443" style="width: 517px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-70443" class="wp-image-70443 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/Desktop-file.jpg" alt="Command Prompt Code" width="507" height="268" title=""><p id="caption-attachment-70443" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-70443 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/Desktop-file.jpg" alt="Command Prompt Code" width="507" height="268" title=""></noscript> Accessing a Desktop.ini</p></div>
<p>This should open the Desktop.ini in Notepad. After updating the desktop.ini, save and try to delete the vault view again.</p>
<div id="attachment_70444" style="width: 843px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-70444" class="wp-image-70444  lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/desktop-ini-file.jpg" alt="Correcting AttachedBy User" width="833" height="410" title=""><p id="caption-attachment-70444" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-70444  lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/desktop-ini-file.jpg" alt="Correcting AttachedBy User" width="833" height="410" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/desktop-ini-file.jpg 904w, https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/desktop-ini-file-600x295.jpg 600w, https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/desktop-ini-file-768x378.jpg 768w" sizes="(max-width: 833px) 100vw, 833px" /></noscript> Correcting AttachedBy User</p></div>
<p>&nbsp;</p>
<p>When deleting a vault view, the AttachedBy value from the Desktop.ini is queried against the currently logged-in Windows user. This value can be manually updated to the currently logged-in user. If you are unsure of your full login name, <strong>whoami</strong> in the command prompt can be used to find your Windows login and domain.</p>
<div id="attachment_70445" style="width: 517px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-70445" class="wp-image-70445 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/whoami.jpg" alt="Finding Windows Login" width="507" height="268" title=""><p id="caption-attachment-70445" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-70445 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2019/01/whoami.jpg" alt="Finding Windows Login" width="507" height="268" title=""></noscript> Finding Windows Login</p></div>
