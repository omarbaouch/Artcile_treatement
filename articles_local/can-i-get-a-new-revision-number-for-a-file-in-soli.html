<p>A common question that we are asked during <a href="https://www.javelin-tech.com/3d/process/solidworks-pdm-implementation-service/">SOLIDWORKS PDM implementations</a> is what the correct transitions in the workflow are to increment the revision number of CAD files; should the SOLIDWORKS PDM revision number be created before or after the modification is done?</p>
<h2>SOLIDWORKS PDM Default Workflow</h2>
<p>As an example, let’s examine the <em>Default Workflow</em> that comes with the <em>Default</em> predefined configuration. This workflow will increment the revision number whenever a file is sent to the Approved state, through one of the highlighted transitions. This means the revision number is generated <strong>after</strong> the modification has been made and reviewed.</p>
<div class="wp-caption aligncenter" id="attachment_38023" style="width: 769px"><img alt="SOLIDWORKS PDM Default Workflow" aria-describedby="caption-attachment-38023" height="802" src="/assets/images/default_wf.jpg" title="" width="759"/><p class="wp-caption-text" id="caption-attachment-38023"><noscript><img alt="SOLIDWORKS PDM Default Workflow" height="802" sizes="(max-width: 759px) 100vw, 759px" src="/assets/images/default_wf.jpg" title="" width="759"/></noscript> SOLIDWORKS PDM Default Workflow</p></div>
<p>The example below is the history of a part that followed this workflow. Notice that the revision A is set to version 3 (three). Before this version, neither the history nor the data card showed a revision number. Likewise, revision B is only set to version 5 (five). This means that while the part was being changed in version 4 (four), the revision shown was still the old one, revision A.</p>
<div class="wp-caption aligncenter" id="attachment_38017" style="width: 854px"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/history1.jpg"><img alt="History of a file with two revisions" aria-describedby="caption-attachment-38017" height="538" src="/assets/images/history1.jpg" title="" width="844"/><p class="wp-caption-text" id="caption-attachment-38017"><noscript><img alt="History of a file with two revisions" height="538" sizes="(max-width: 844px) 100vw, 844px" src="/assets/images/history1.jpg" title="" width="844"/></noscript></p></a> History of a file with two revisions</div>
<p>This is how SOLIDWORKS PDM is intended to handle revision numbers. Several built-in functionalities are meant to work with revision numbers in this way, as we will see later.</p>
<h3>A different SOLIDWORKS PDM revision number workflow approach</h3>
<p>Some engineering departments prefer to work in a different way. Those in favor of the alternative that follows argue that, if a designer starts changing a part that has been previously released as revision A, he or she is already working on a revision B, so the revision entry (on the data card, drawing title block and history) should reflect this since the beginning, that is, when the change is requested or started.</p>
<p>The SOLIDWORKS PDM revision number workflow below is an example of this possible setup. Note that an extra state is required here. We are also using an automatic transition – a functionality that is only available in the Professional edition. This way, files will get a revision number as soon as they are checked in for the first time.</p>
<div class="wp-caption aligncenter" id="attachment_38019" style="width: 811px"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/modified_wf.jpg"><img alt="A modified workflow" aria-describedby="caption-attachment-38019" height="914" src="/assets/images/modified_wf.jpg" title="" width="801"/><p class="wp-caption-text" id="caption-attachment-38019"><noscript><img alt="A modified workflow" height="914" sizes="(max-width: 801px) 100vw, 801px" src="/assets/images/modified_wf.jpg" title="" width="801"/></noscript></p></a> A modified SOLIDWORKS PDM revision number workflow</div>
<p>The history of a file going through this workflow will look like this:</p>
<div class="wp-caption aligncenter" id="attachment_38018" style="width: 854px"><img alt="History of a file - now with revision numbers generated prior to the approval" aria-describedby="caption-attachment-38018" height="538" src="/assets/images/history2.jpg" title="" width="844"/><p class="wp-caption-text" id="caption-attachment-38018"><noscript><img alt="History of a file - now with revision numbers generated prior to the approval" height="538" sizes="(max-width: 844px) 100vw, 844px" src="/assets/images/history2.jpg" title="" width="844"/></noscript> History of a file – now with revision numbers generated prior to the approval</p></div>
<p>In the end, the data card looks like this – exactly the same as the first example.</p>
<div class="wp-caption aligncenter" id="attachment_38021" style="width: 650px"><img alt="Data card of a file on revision B" aria-describedby="caption-attachment-38021" height="359" src="/assets/images/card.jpg" title="" width="640"/><p class="wp-caption-text" id="caption-attachment-38021"><noscript><img alt="Data card of a file on revision B" height="359" sizes="(max-width: 640px) 100vw, 640px" src="/assets/images/card.jpg" title="" width="640"/></noscript> Data card of a file on revision B</p></div>
<p>While the result – when looking to the data card or to the drawing’s title block – may look correct, from the history point of view this is inconsistent, and we can verify this in several parts of the client and the Administration tool.</p>
<h2>Why this technique could be a problem</h2>
<ol>
<li>The <em>Get Version </em>menu is now misleading</li>
</ol>
<div class="wp-caption aligncenter" id="attachment_38016" style="width: 487px"><img alt="Get Version menu" aria-describedby="caption-attachment-38016" height="397" src="/assets/images/get_version.jpg" title="" width="477"/><p class="wp-caption-text" id="caption-attachment-38016"><noscript><img alt="Get Version menu" height="397" src="/assets/images/get_version.jpg" title="" width="477"/></noscript> Get Version menu</p></div>
<ol start="2">
<li>The permission <em>Show working versions of files</em> will not work as expected. This permission is typically not granted to any non-designer groups (e.g. Manufacturing, Procurement) so those users can only see approved versions, and not any work in progress. In this example, they would see version 5 (five) of the part, created prior to the actual change, and not the approved version, 7 (seven).</li>
</ol>
<div class="wp-caption aligncenter" id="attachment_38020" style="width: 441px"><img alt="'Show working versions of files' permission" aria-describedby="caption-attachment-38020" height="476" src="/assets/images/permissions.jpg" title="" width="431"/><p class="wp-caption-text" id="caption-attachment-38020"><noscript><img alt="'Show working versions of files' permission" height="476" src="/assets/images/permissions.jpg" title="" width="431"/></noscript> “Show working versions of files” permission</p></div>
<ol start="3">
<li>The option <em>Never move versions with revisions to cold storage</em>, that can be set to any new or existing cold storage schemas, will also consider the wrong version as the released one.</li>
</ol>
<div class="wp-caption aligncenter" id="attachment_38022" style="width: 797px"><img alt="Cold storage schema" aria-describedby="caption-attachment-38022" height="393" src="/assets/images/cold_storage.jpg" title="" width="787"/><p class="wp-caption-text" id="caption-attachment-38022"><noscript><img alt="Cold storage schema" height="393" sizes="(max-width: 787px) 100vw, 787px" src="/assets/images/cold_storage.jpg" title="" width="787"/></noscript> Cold storage schema</p></div>
<blockquote><p>In this case, we recommend that this entire functionality is not used at all, because there is no way to avoid that released revisions be moved or permanently deleted (if using the option <em>Delete archive files</em>). This could lead to data loss and compliance issues – for instance, if your ISO systems requires all revisions of items to be kept.</p></blockquote>
<h2>An alternative</h2>
<p>If you really need to show the new revision number prior to the approval, it is possible to implement an alternative solution. The Revision data card variable can be updated first (e.g. during the <strong>Create Revision Number</strong> transition) and the revision entry can be incremented only during the approval, that is, during the <strong>Passed Approval</strong> transition.</p>
<div class="wp-caption aligncenter" id="attachment_39540" style="width: 610px"><img alt="Revision variable update" aria-describedby="caption-attachment-39540" height="426" src="/assets/images/Revision-Variable-Only2-600x426.jpg" title="" width="600"/><p class="wp-caption-text" id="caption-attachment-39540"><noscript><img alt="Revision variable update" height="426" sizes="(max-width: 600px) 100vw, 600px" src="/assets/images/Revision-Variable-Only2-600x426.jpg" title="" width="600"/></noscript> Revision variable update</p></div>
<div class="wp-caption aligncenter" id="attachment_39542" style="width: 610px"><img alt="Revision increment" aria-describedby="caption-attachment-39542" height="432" src="/assets/images/Passed-Approval2-600x432.jpg" title="" width="600"/><p class="wp-caption-text" id="caption-attachment-39542"><noscript><img alt="Revision increment" height="432" sizes="(max-width: 600px) 100vw, 600px" src="/assets/images/Passed-Approval2-600x432.jpg" title="" width="600"/></noscript> Revision increment</p></div>
<p>This will solve the problems described above, however, now the Revision number on the data card will be out of sync with the actual file Revision number, as we can see below. To avoid any confusions, you could add the workflow state to the data card next to the Revision Number, so it is clear to all users that revision B is still under Work In Progress.</p>
<p>Also, you can now use permissions, e.g. disable <em>Show Working Versions of Files</em> for non-engineering users, to make sure no files are used before they are released.</p>
<div class="wp-caption aligncenter" id="attachment_39543" style="width: 1183px"><img alt="Revision shown on History and Data Card" aria-describedby="caption-attachment-39543" height="308" src="/assets/images/Rev-out-of-sync.jpg" title="" width="1173"/><p class="wp-caption-text" id="caption-attachment-39543"><noscript><img alt="Revision shown on History and Data Card" height="308" sizes="(max-width: 1173px) 100vw, 1173px" src="/assets/images/Rev-out-of-sync.jpg" title="" width="1173"/></noscript> Revision shown on Data Card and History</p></div>
<h2>The answer…</h2>
<p>As we have seen, the answer to the question that opened this article is <strong>yes, you can increment the SOLIDWORKS PDM revision number of your files at any point of your workflow</strong>. However, you must consider all unintended consequences of an <em>unorthodox</em> setup if that is your case.</p>
