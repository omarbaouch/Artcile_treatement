<p>A common question that we are asked during <a href="https://www.javelin-tech.com/3d/process/solidworks-pdm-implementation-service/">SOLIDWORKS PDM implementations</a> is what the correct transitions in the workflow are to increment the revision number of CAD files; should the SOLIDWORKS PDM revision number be created before or after the modification is done?</p>
<h2>SOLIDWORKS PDM Default Workflow</h2>
<p>As an example, let’s examine the <em>Default Workflow</em> that comes with the <em>Default</em> predefined configuration. This workflow will increment the revision number whenever a file is sent to the Approved state, through one of the highlighted transitions. This means the revision number is generated <strong>after</strong> the modification has been made and reviewed.</p>
<div id="attachment_38023" style="width: 769px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-38023" class="wp-image-38023 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/default_wf.jpg" alt="SOLIDWORKS PDM Default Workflow" width="759" height="802" title=""><p id="caption-attachment-38023" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-38023 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/default_wf.jpg" alt="SOLIDWORKS PDM Default Workflow" width="759" height="802" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/default_wf.jpg 759w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/default_wf-568x600.jpg 568w" sizes="(max-width: 759px) 100vw, 759px" /></noscript> SOLIDWORKS PDM Default Workflow</p></div>
<p>The example below is the history of a part that followed this workflow. Notice that the revision A is set to version 3 (three). Before this version, neither the history nor the data card showed a revision number. Likewise, revision B is only set to version 5 (five). This means that while the part was being changed in version 4 (four), the revision shown was still the old one, revision A.</p>
<div id="attachment_38017" style="width: 854px" class="wp-caption aligncenter"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/history1.jpg"><img decoding="async" aria-describedby="caption-attachment-38017" class="wp-image-38017 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/history1.jpg" alt="History of a file with two revisions" width="844" height="538" title=""><p id="caption-attachment-38017" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-38017 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/history1.jpg" alt="History of a file with two revisions" width="844" height="538" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/history1.jpg 844w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/history1-600x382.jpg 600w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/history1-768x490.jpg 768w" sizes="(max-width: 844px) 100vw, 844px" /></noscript></a> History of a file with two revisions</p></div>
<p>This is how SOLIDWORKS PDM is intended to handle revision numbers. Several built-in functionalities are meant to work with revision numbers in this way, as we will see later.</p>
<h3>A different SOLIDWORKS PDM revision number workflow approach</h3>
<p>Some engineering departments prefer to work in a different way. Those in favor of the alternative that follows argue that, if a designer starts changing a part that has been previously released as revision A, he or she is already working on a revision B, so the revision entry (on the data card, drawing title block and history) should reflect this since the beginning, that is, when the change is requested or started.</p>
<p>The SOLIDWORKS PDM revision number workflow below is an example of this possible setup. Note that an extra state is required here. We are also using an automatic transition – a functionality that is only available in the Professional edition. This way, files will get a revision number as soon as they are checked in for the first time.</p>
<div id="attachment_38019" style="width: 811px" class="wp-caption aligncenter"><a href="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/modified_wf.jpg"><img decoding="async" aria-describedby="caption-attachment-38019" class="wp-image-38019 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/modified_wf.jpg" alt="A modified workflow" width="801" height="914" title=""><p id="caption-attachment-38019" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-38019 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/modified_wf.jpg" alt="A modified workflow" width="801" height="914" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/modified_wf.jpg 801w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/modified_wf-526x600.jpg 526w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/modified_wf-768x876.jpg 768w" sizes="(max-width: 801px) 100vw, 801px" /></noscript></a> A modified SOLIDWORKS PDM revision number workflow</p></div>
<p>The history of a file going through this workflow will look like this:</p>
<div id="attachment_38018" style="width: 854px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-38018" class="wp-image-38018 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/history2.jpg" alt="History of a file - now with revision numbers generated prior to the approval" width="844" height="538" title=""><p id="caption-attachment-38018" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-38018 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/history2.jpg" alt="History of a file - now with revision numbers generated prior to the approval" width="844" height="538" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/history2.jpg 844w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/history2-600x382.jpg 600w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/history2-768x490.jpg 768w" sizes="(max-width: 844px) 100vw, 844px" /></noscript> History of a file &#8211; now with revision numbers generated prior to the approval</p></div>
<p>In the end, the data card looks like this – exactly the same as the first example.</p>
<div id="attachment_38021" style="width: 650px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-38021" class="wp-image-38021 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/card.jpg" alt="Data card of a file on revision B" width="640" height="359" title=""><p id="caption-attachment-38021" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-38021 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/card.jpg" alt="Data card of a file on revision B" width="640" height="359" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/card.jpg 640w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/card-600x337.jpg 600w" sizes="(max-width: 640px) 100vw, 640px" /></noscript> Data card of a file on revision B</p></div>
<p>While the result &#8211; when looking to the data card or to the drawing’s title block &#8211; may look correct, from the history point of view this is inconsistent, and we can verify this in several parts of the client and the Administration tool.</p>
<h2>Why this technique could be a problem</h2>
<ol>
<li>The <em>Get Version </em>menu is now misleading</li>
</ol>
<div id="attachment_38016" style="width: 487px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-38016" class="wp-image-38016 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/get_version.jpg" alt="Get Version menu" width="477" height="397" title=""><p id="caption-attachment-38016" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-38016 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/get_version.jpg" alt="Get Version menu" width="477" height="397" title=""></noscript> Get Version menu</p></div>
<ol start="2">
<li>The permission <em>Show working versions of files</em> will not work as expected. This permission is typically not granted to any non-designer groups (e.g. Manufacturing, Procurement) so those users can only see approved versions, and not any work in progress. In this example, they would see version 5 (five) of the part, created prior to the actual change, and not the approved version, 7 (seven).</li>
</ol>
<div id="attachment_38020" style="width: 441px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-38020" class="wp-image-38020 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/permissions.jpg" alt="&#039;Show working versions of files&#039; permission" width="431" height="476" title=""><p id="caption-attachment-38020" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-38020 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/permissions.jpg" alt="&#039;Show working versions of files&#039; permission" width="431" height="476" title=""></noscript> &#8220;Show working versions of files&#8221; permission</p></div>
<ol start="3">
<li>The option <em>Never move versions with revisions to cold storage</em>, that can be set to any new or existing cold storage schemas, will also consider the wrong version as the released one.</li>
</ol>
<div id="attachment_38022" style="width: 797px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-38022" class="wp-image-38022 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/cold_storage.jpg" alt="Cold storage schema" width="787" height="393" title=""><p id="caption-attachment-38022" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-38022 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/cold_storage.jpg" alt="Cold storage schema" width="787" height="393" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/cold_storage.jpg 787w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/cold_storage-600x300.jpg 600w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/09/cold_storage-768x384.jpg 768w" sizes="(max-width: 787px) 100vw, 787px" /></noscript> Cold storage schema</p></div>
<blockquote><p>In this case, we recommend that this entire functionality is not used at all, because there is no way to avoid that released revisions be moved or permanently deleted (if using the option <em>Delete archive files</em>). This could lead to data loss and compliance issues – for instance, if your ISO systems requires all revisions of items to be kept.</p></blockquote>
<h2>An alternative</h2>
<p>If you really need to show the new revision number prior to the approval, it is possible to implement an alternative solution. The Revision data card variable can be updated first (e.g. during the <strong>Create Revision Number</strong> transition) and the revision entry can be incremented only during the approval, that is, during the <strong>Passed Approval</strong> transition.</p>
<div id="attachment_39540" style="width: 610px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-39540" class="wp-image-39540 size-medium lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/10/Revision-Variable-Only2-600x426.jpg" alt="Revision variable update" width="600" height="426" title=""><p id="caption-attachment-39540" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-39540 size-medium lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/10/Revision-Variable-Only2-600x426.jpg" alt="Revision variable update" width="600" height="426" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2018/10/Revision-Variable-Only2-600x426.jpg 600w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/10/Revision-Variable-Only2.jpg 667w" sizes="(max-width: 600px) 100vw, 600px" /></noscript> Revision variable update</p></div>
<div id="attachment_39542" style="width: 610px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-39542" class="wp-image-39542 size-medium lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/10/Passed-Approval2-600x432.jpg" alt="Revision increment" width="600" height="432" title=""><p id="caption-attachment-39542" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-39542 size-medium lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/10/Passed-Approval2-600x432.jpg" alt="Revision increment" width="600" height="432" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2018/10/Passed-Approval2-600x432.jpg 600w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/10/Passed-Approval2.jpg 668w" sizes="(max-width: 600px) 100vw, 600px" /></noscript> Revision increment</p></div>
<p>This will solve the problems described above, however, now the Revision number on the data card will be out of sync with the actual file Revision number, as we can see below. To avoid any confusions, you could add the workflow state to the data card next to the Revision Number, so it is clear to all users that revision B is still under Work In Progress.</p>
<p>Also, you can now use permissions, e.g. disable <em>Show Working Versions of Files</em> for non-engineering users, to make sure no files are used before they are released.</p>
<div id="attachment_39543" style="width: 1183px" class="wp-caption aligncenter"><img decoding="async" aria-describedby="caption-attachment-39543" class="wp-image-39543 size-full lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/10/Rev-out-of-sync.jpg" alt="Revision shown on History and Data Card" width="1173" height="308" title=""><p id="caption-attachment-39543" class="wp-caption-text"><noscript><img decoding="async" class="wp-image-39543 size-full lazyload" src="https://www.javelin-tech.com/blog/wp-content/uploads/2018/10/Rev-out-of-sync.jpg" alt="Revision shown on History and Data Card" width="1173" height="308" title="" srcset="https://www.javelin-tech.com/blog/wp-content/uploads/2018/10/Rev-out-of-sync.jpg 1173w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/10/Rev-out-of-sync-600x158.jpg 600w, https://www.javelin-tech.com/blog/wp-content/uploads/2018/10/Rev-out-of-sync-768x202.jpg 768w" sizes="(max-width: 1173px) 100vw, 1173px" /></noscript> Revision shown on Data Card and History</p></div>
<h2>The answer&#8230;</h2>
<p>As we have seen, the answer to the question that opened this article is <strong>yes, you can increment the SOLIDWORKS PDM revision number of your files at any point of your workflow</strong>. However, you must consider all unintended consequences of an <em>unorthodox</em> setup if that is your case.</p>
